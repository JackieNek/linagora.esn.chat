.block-header.visible-md
  h2 \#{{::vm.getConversationName(vm.conversation)}}
  ul.actions
    li
      a(href='')
        i.mdi.mdi-account-multiple-plus
    li
      a(href='')
        i.mdi.mdi-message-outline
    li
      a(href='')
        i.mdi.mdi-dots-vertical
.card.m-b-0
  .ms-body
    .listview.lv-message
      .lv-header.message-header
        .lvh-label
          a(href='') {{(vm.conversation.members || []).length}} #{__('members')}
          span(ng-show="vm.displayTopic")
            span.divider |
            span(ng-if="!vm.conversation.topic.value" editable-text="vm.conversation.topic.value" buttons="no" onbeforesave='vm.updateTopic($data)')
              a(href="#" )
                | Add a topic
                i.mdi.mdi-plus
            span(ng-if="vm.conversation.topic.value" ng-bind-html="vm.conversation.topic.value | linky:'_blank' | esnEmoticonify:{class: 'label-emoji'}" editable-text="vm.conversation.topic.value" buttons="no" onbeforesave='vm.updateTopic($data)')
              a(href="#")
                | Edit
                i.mdi.mdi-pencil
        ul.lv-actions.actions
          li
            a(href='')
              i.mdi.mdi-information-outline
      .lv-body(ng-file-drop="onFileSelect($files)", ng-multiple="true", scroll-glue="glued")
        div(ng-repeat="message in vm.messages track by message._uniqId")
          chat-message-separator(prev-message="$first ? null : vm.messages[$index - 1]", current-message="message")
          chat-message(message="message")
